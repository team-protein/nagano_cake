<div class="container">
  <div class="row">
    <div class="col-md-10">
      <h3>配送先登録/一覧</h3>
      <%= form_with model: @address, url: addresses_path, local: true do |f| %>
        <%= render "layouts/errors", obj: @address %>
        
        <div class="field">
          <%= f.label :postcode, "郵便番号（ハイフンなし）" %><br/>
          <%= f.text_field :postcode %>
        </div>
        
        <div class="field">
          <%= f.label :address, "住所" %> <br/>
          <%= f.text_field :address %>
        </div>
        
        <div class="field">
          <%= f.label :dear, "宛名" %><br/>
          <%= f.text_field :dear %>
        </div>
      
        <div class="actions">
          <%= f.submit "新規登録", class: "btn btn-success" %>
        </div>
        
      <% end %>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-7">
      <table class="table table-inverse">
        <thead>
          <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% current_customer.addresses.each do |address| %>
          <tr>
            <th><%= address.postcode %></th>
            <th><%= address.address %></th>
            <th><%= address.dear %></th>
            <th><%= link_to "編集する", edit_address_path(address.id), {class: "btn btn-primary"} %></th>
            <th><%= link_to "削除する", address_path(address.id), {method: :delete, class: "btn btn-danger"}  %></th>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
